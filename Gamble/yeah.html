<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Casino Suite</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0f0e17;
            --secondary: #1f1b2e;
            --accent: #ff5e57;
            --gold: #ffd700;
            --text: #fffffe;
            --success: #2ecc71;
            --danger: #ff5e57;
            --warning: #f39c12;
            --info: #3498db;
            --card-red: #ff5e57;
            --card-black: #0f0e17;
            --highlight: #ff8906;
            --background: #0f0e17;
            --surface: #1f1b2e;
            --diamond: #b9f2ff;
            --ruby: #e0115f;
            --emerald: #50c878;
            --sapphire: #0f52ba;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 94, 87, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.05) 50%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--gold), var(--accent), var(--gold));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            font-weight: 800;
            animation: gradientShift 3s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .balance {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .balance::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            animation: scan 2s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .balance:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.2);
        }

        .balance h2 {
            color: var(--gold);
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .balance-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .stat-item {
            padding: 8px 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 5px;
            font-size: 0.9rem;
        }

        .stat-item i {
            margin-right: 5px;
            color: var(--gold);
        }

        .progress-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            background: rgba(0, 0, 0, 0.3);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--highlight));
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .tabs-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .tab-btn {
            background: rgba(0, 0, 0, 0.4);
            color: var(--text);
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 94, 87, 0.3);
        }

        .tab-btn.active {
            background: linear-gradient(45deg, var(--accent), #c0392b);
            box-shadow: 0 8px 25px rgba(255, 94, 87, 0.4);
            transform: translateY(-2px);
        }

        .game-tab {
            display: none;
            background: rgba(0, 0, 0, 0.4);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
            min-height: 600px;
            animation: fadeInUp 0.6s ease;
            position: relative;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .game-tab.active {
            display: block;
        }

        .game-title {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: var(--gold);
            text-align: center;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            font-weight: 700;
        }

        .game-description {
            margin-bottom: 30px;
            text-align: center;
            opacity: 0.9;
            line-height: 1.8;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-size: 1.1rem;
        }

        .game-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .btn {
            background: linear-gradient(45deg, var(--accent), #c0392b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 8px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 94, 87, 0.5);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .btn-gold {
            background: linear-gradient(45deg, var(--gold), #f39c12);
            color: #333;
        }

        .btn-gold:hover {
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.5);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success), #27ae60);
        }

        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.5);
        }

        .btn-danger {
            background: linear-gradient(45deg, var(--danger), #c0392b);
        }

        .btn-danger:hover {
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.5);
        }

        .btn-warning {
            background: linear-gradient(45deg, var(--warning), #d68910);
            color: white;
        }

        .btn-info {
            background: linear-gradient(45deg, var(--info), #2980b9);
        }

        .btn-diamond {
            background: linear-gradient(45deg, var(--diamond), #00b4d8);
            color: #333;
        }

        .btn-ruby {
            background: linear-gradient(45deg, var(--ruby), #c81d25);
        }

        .btn-emerald {
            background: linear-gradient(45deg, var(--emerald), #1a936f);
        }

        .btn-sapphire {
            background: linear-gradient(45deg, var(--sapphire), #1e56a0);
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--gold);
            font-size: 1.1rem;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.4);
            color: white;
            border-radius: 12px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(255, 94, 87, 0.3);
            transform: scale(1.02);
        }

        .input-group input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Game-specific styles */
        .slots-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            position: relative;
        }

        .slot {
            width: 120px;
            height: 120px;
            background: rgba(0, 0, 0, 0.6);
            border: 3px solid var(--gold);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .slot::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        .slot.spinning {
            animation: slotSpin 0.1s infinite linear;
        }

        @keyframes slotSpin {
            0% { transform: rotateX(0deg); }
            25% { transform: rotateX(90deg); }
            50% { transform: rotateX(180deg); }
            75% { transform: rotateX(270deg); }
            100% { transform: rotateX(360deg); }
        }

        .slots-paytable {
            margin: 20px auto;
            max-width: 600px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .paytable-title {
            text-align: center;
            margin-bottom: 15px;
            color: var(--gold);
            font-weight: 600;
        }

        .paytable-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }

        .paytable-item {
            display: flex;
            align-items: center;
            padding: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .paytable-symbol {
            font-size: 1.8rem;
            margin-right: 10px;
        }

        .paytable-multiplier {
            font-weight: bold;
            color: var(--gold);
        }

        .mines-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            max-width: 400px;
            margin: 30px auto;
        }

        .mine-cell {
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .mine-cell::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .mine-cell:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .mine-cell.revealed {
            background: rgba(46, 204, 113, 0.3);
            border-color: var(--success);
            transform: scale(1);
        }

        .mine-cell.mine {
            background: rgba(255, 94, 87, 0.7);
            border-color: var(--danger);
            animation: explode 0.5s ease;
        }

        @keyframes explode {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .mines-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .mine-option {
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            min-width: 100px;
            text-align: center;
            font-weight: 600;
        }

        .mine-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .mine-option.selected {
            background: var(--accent);
            border-color: var(--accent);
            box-shadow: 0 4px 15px rgba(255, 94, 87, 0.4);
        }

        .mines-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
        }

        .mines-stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .mines-stat span {
            color: var(--gold);
            font-weight: bold;
        }

        .crash-game {
            text-align: center;
            padding: 20px;
            position: relative;
        }

        .crash-multiplier {
            font-size: 4rem;
            color: var(--gold);
            margin: 30px 0;
            font-weight: bold;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            animation: pulse 1s infinite alternate;
            position: relative;
        }

        .crash-multiplier::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            animation: pulseBorder 1.5s infinite;
            pointer-events: none;
        }

        @keyframes pulseBorder {
            0% { opacity: 0; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0; transform: scale(1.1); }
        }

        @keyframes pulse {
            from { transform: scale(1); text-shadow: 0 0 30px rgba(255, 215, 0, 0.8); }
            to { transform: scale(1.05); text-shadow: 0 0 40px rgba(255, 215, 0, 1); }
        }

        .crash-history {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .crash-history-item {
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .crash-history-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .crash-history-item.crash {
            background: rgba(255, 94, 87, 0.3);
            color: var(--danger);
        }

        .crash-history-item.cashout {
            background: rgba(46, 204, 113, 0.3);
            color: var(--success);
        }

        .crash-auto {
            margin: 20px 0;
        }

        .auto-settings {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .auto-setting {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .auto-setting label {
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .coinflip-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 40px 0;
        }

        .coin {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            margin: 30px 0;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s ease-out;
            background: linear-gradient(145deg, #e6e6e6, #ffffff);
            border: 5px solid var(--gold);
        }

        .coin::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 50%;
        }

        .coin.flipping {
            animation: coinFlip 4s ease-out;
        }

        @keyframes coinFlip {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            25% { transform: rotateY(900deg) rotateX(180deg); }
            50% { transform: rotateY(1800deg) rotateX(360deg); }
            75% { transform: rotateY(2700deg) rotateX(540deg); }
            100% { transform: rotateY(3600deg) rotateX(720deg); }
        }

        .coin-heads {
            position: absolute;
            backface-visibility: hidden;
            color: #2e86de;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            font-weight: bold;
        }

        .coin-tails {
            position: absolute;
            backface-visibility: hidden;
            transform: rotateY(180deg);
            color: #ff6b6b;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            font-weight: bold;
        }

        .blackjack-area {
            margin: 30px 0;
        }

        .hand {
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .hand::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .hand-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--gold);
            font-weight: 600;
            text-align: center;
        }

        .blackjack-cards {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .card {
            width: 90px;
            height: 130px;
            background: white;
            color: black;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.8rem;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            position: relative;
            animation: cardDeal 0.5s ease;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 12px;
        }

        @keyframes cardDeal {
            from { 
                transform: translateY(-50px) rotateY(180deg);
                opacity: 0;
            }
            to { 
                transform: translateY(0) rotateY(0deg);
                opacity: 1;
            }
        }

        .card.red {
            color: var(--card-red);
        }

        .card.black {
            color: var(--card-black);
        }

        .card-value {
            position: absolute;
            top: 8px;
            left: 8px;
            font-size: 1.2rem;
        }

        .card-suit {
            font-size: 2.5rem;
        }

        .hand-value {
            font-size: 1.4rem;
            margin-top: 15px;
            font-weight: 600;
            color: var(--gold);
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .blackjack-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .blackjack-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .blackjack-stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .blackjack-stat span {
            color: var(--gold);
            font-weight: bold;
        }

        .game-result {
            margin: 25px 0;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
            font-size: 1.3rem;
            animation: resultPop 0.6s ease;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .game-result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            border-radius: 12px;
        }

        @keyframes resultPop {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        .win {
            background: rgba(46, 204, 113, 0.3);
            color: var(--success);
            border: 2px solid var(--success);
            box-shadow: 0 0 20px rgba(46, 204, 113, 0.3);
        }

        .lose {
            background: rgba(255, 94, 57, 0.3);
            color: var(--danger);
            border: 2px solid var(--danger);
            box-shadow: 0 0 20px rgba(255, 94, 57, 0.3);
        }

        .neutral {
            background: rgba(52, 152, 219, 0.3);
            color: var(--info);
            border: 2px solid var(--info);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
        }

        .countdown {
            font-size: 1.4rem;
            color: var(--gold);
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .history-log {
            max-height: 250px;
            overflow-y: auto;
            margin-top: 30px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .history-log::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            border-radius: 12px;
        }

        .history-entry {
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-left: 4px solid var(--accent);
            transition: transform 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .history-entry::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .history-entry:hover {
            transform: translateX(5px);
        }

        .history-entry.win {
            border-left-color: var(--success);
        }

        .history-entry.lose {
            border-left-color: var(--danger);
        }

        .bet-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .bet-btn {
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .bet-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.3s ease;
        }

        .bet-btn:hover::before {
            left: 100%;
        }

        .bet-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: var(--gold);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px 25px;
            border-radius: 12px;
            border-left: 5px solid var(--gold);
            z-index: 3000;
            transform: translateX(100%);
            transition: transform 0.4s ease;
            max-width: 350px;
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
        }

        .notification i {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left-color: var(--success);
        }

        .notification.error {
            border-left-color: var(--danger);
        }

        .notification.warning {
            border-left-color: var(--warning);
        }

        .notification.info {
            border-left-color: var(--info);
        }

        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 30px;
            border-radius: 20px;
            border: 3px solid var(--gold);
            z-index: 4000;
            text-align: center;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s ease;
            width: 90%;
            max-width: 500px;
        }

        .achievement-popup::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            border-radius: 20px;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .achievement-title {
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 10px;
            font-weight: bold;
        }

        .achievement-description {
            font-size: 1.2rem;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .achievement-reward {
            font-size: 1.5rem;
            color: var(--success);
            font-weight: bold;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .achievement-card {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .achievement-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .achievement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .achievement-card.unlocked {
            border-color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .achievement-card .achievement-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .achievement-name {
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .achievement-description {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .achievement-reward {
            color: var(--success);
            font-weight: bold;
            font-size: 1.1rem;
        }

        .achievement-progress {
            margin-top: 10px;
            height: 5px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            overflow: hidden;
        }

        .achievement-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--highlight));
            transition: width 0.3s ease;
        }

        .beg-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .beg-option {
            padding: 15px 25px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            min-width: 150px;
        }

        .beg-option:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        .beg-option i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .beg-option h3 {
            margin-bottom: 5px;
            color: var(--gold);
        }

        .beg-option p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .jackpot-meter {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .jackpot-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--highlight));
            transition: width 0.5s ease;
            position: relative;
        }

        .jackpot-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        .jackpot-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: white;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }

        .jackpot-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .jackpot-info span {
            color: var(--gold);
            font-weight: bold;
        }

        .bonus-wheel {
            width: 300px;
            height: 300px;
            margin: 30px auto;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid var(--gold);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        .wheel-center {
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--gold);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #333;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .wheel-spin {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                #ff5e57, #ff8906, #ffd700, #2ecc71, #3498db, #9b59b6, #ff5e57
            );
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }

        .wheel-pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid var(--gold);
            z-index: 5;
        }

        .wheel-prizes {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            z-index: 2;
        }

        .wheel-prize {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .slot {
                width: 80px;
                height: 80px;
                font-size: 3rem;
            }
            
            .mine-cell {
                width: 55px;
                height: 55px;
                font-size: 1.5rem;
            }
            
            .coin {
                width: 150px;
                height: 150px;
                font-size: 4rem;
            }
            
            .card {
                width: 70px;
                height: 100px;
                font-size: 1.4rem;
            }
            
            .card-suit {
                font-size: 2rem;
            }
            
            .game-title {
                font-size: 1.8rem;
            }
            
            .tab-btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .bonus-wheel {
                width: 250px;
                height: 250px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .balance h2 {
                font-size: 2rem;
            }
            
            .tab-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .game-tab {
                padding: 20px;
            }
            
            .bonus-wheel {
                width: 200px;
                height: 200px;
            }
        }

        @keyframes buttonClick {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }

        .btn-click {
            animation: buttonClick 0.3s ease;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gold);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--highlight);
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-icon" id="achievementIcon">üèÜ</div>
        <div class="achievement-title" id="achievementTitle">Achievement Unlocked!</div>
        <div class="achievement-description" id="achievementDesc">You did something awesome!</div>
        <div class="achievement-reward" id="achievementReward">+$1000</div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üé∞ CASINO EMPIRE üé∞</h1>
            <p>The ultimate high-stakes gambling experience - Can you beat the house?</p>
        </div>

        <div class="controls">
            <button class="btn btn-gold" onclick="resetGame()">
                <i class="fas fa-sync-alt"></i> Reset Game
            </button>
            <button class="btn btn-info" onclick="showHelp()">
                <i class="fas fa-question-circle"></i> Help
            </button>
        </div>

        <div class="balance">
            <h2>üí∞ Balance: $<span id="balance">1000</span></h2>
            <div class="balance-stats">
                <div class="stat-item">
                    <i class="fas fa-coins"></i> Wagered: $<span id="totalWagered">0</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-trophy"></i> Won: $<span id="totalWon">0</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-dice"></i> Games: <span id="gamesPlayed">0</span>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <h3 style="color: var(--gold); margin-bottom: 10px;">üéØ Progress to Trillionaire</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0.0001%"></div>
            </div>
            <div class="progress-labels">
                <span>$<span id="progressAmount">1,000</span></span>
                <span><span id="progressPercent">0.0001</span>%</span>
                <span>$1,000,000,000,000</span>
            </div>
        </div>

        <div class="tabs-container">
            <button class="tab-btn active" data-tab="beg">
                <i class="fas fa-hand-holding-usd"></i> Beg
            </button>
            <button class="tab-btn" data-tab="blackjack">
                <i class="fas fa-cards"></i> Blackjack
            </button>
            <button class="tab-btn" data-tab="coinflip">
                <i class="fas fa-coins"></i> Coinflip
            </button>
            <button class="tab-btn" data-tab="slots">
                <i class="fas fa-slot-machine"></i> Slots
            </button>
            <button class="tab-btn" data-tab="mines">
                <i class="fas fa-bomb"></i> Mines
            </button>
            <button class="tab-btn" data-tab="crash">
                <i class="fas fa-rocket"></i> Crash
            </button>
            <button class="tab-btn" data-tab="bonus">
                <i class="fas fa-gift"></i> Bonus
            </button>
            <button class="tab-btn" data-tab="achievements">
                <i class="fas fa-trophy"></i> Achievements
            </button>
        </div>

        <!-- Beg Tab -->
        <div class="game-tab active" id="beg-tab">
            <h2 class="game-title"><i class="fas fa-hand-holding-usd"></i> Beg for Money</h2>
            <p class="game-description">Start your journey by begging for money. Different begging methods have different rewards and cooldowns. The more you beg, the better your chances of getting larger amounts!</p>
            
            <div class="beg-options">
                <div class="beg-option" onclick="beg('street')" id="streetBegBtn">
                    <i class="fas fa-road"></i>
                    <h3>Street Begging</h3>
                    <p>Quick $10-$50<br>30s cooldown</p>
                </div>
                <div class="beg-option" onclick="beg('charity')" id="charityBegBtn">
                    <i class="fas fa-hands-helping"></i>
                    <h3>Charity</h3>
                    <p>$50-$150<br>2m cooldown</p>
                </div>
                <div class="beg-option" onclick="beg('rich')" id="richBegBtn">
                    <i class="fas fa-user-tie"></i>
                    <h3>Rich Donor</h3>
                    <p>$100-$500<br>5m cooldown</p>
                </div>
                <div class="beg-option" onclick="beg('celeb')" id="celebBegBtn">
                    <i class="fas fa-star"></i>
                    <h3>Celebrity</h3>
                    <p>$500-$2000<br>15m cooldown</p>
                </div>
            </div>
                
                <div id="begResult" class="game-result"></div>
                <div id="begCooldown" class="countdown"></div>
                
                <div class="history-log" id="begHistory"></div>
            </div>
        </div>

        <!-- Blackjack Tab -->
        <div class="game-tab" id="blackjack-tab">
            <h2 class="game-title"><i class="fas fa-cards"></i> Blackjack (House Edge: 15%)</h2>
            <p class="game-description">Beat the dealer to 21, but the house always has an edge. Dealer hits on soft 17. Blackjack pays 3:2, insurance pays 2:1. Try to win big with double down and splits!</p>
            
            <div class="game-content">
                <div class="input-group">
                    <label><i class="fas fa-coins"></i> Bet Amount:</label>
                    <input type="number" id="blackjackBet" placeholder="Enter bet" min="1" value="10">
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBetAmount('blackjackBet', 10)">$10</button>
                        <button class="bet-btn" onclick="setBetAmount('blackjackBet', 100)">$100</button>
                        <button class="bet-btn" onclick="setBetAmount('blackjackBet', 1000)">$1K</button>
                        <button class="bet-btn" onclick="setBetAmount('blackjackBet', 10000)">$10K</button>
                    </div>
                </div>
                
                <div class="blackjack-stats">
                    <div class="blackjack-stat">
                        <i class="fas fa-chart-line"></i> Win Rate: <span id="blackjackWinRate">0%</span>
                    </div>
                    <div class="blackjack-stat">
                        <i class="fas fa-coins"></i> Profit: <span id="blackjackProfit">$0</span>
                    </div>
                    <div class="blackjack-stat">
                        <i class="fas fa-bolt"></i> Streak: <span id="blackjackStreak">0</span>
                    </div>
                </div>
                
                <div class="blackjack-area" id="blackjackGame">
                    <button class="btn" onclick="startBlackjack()" id="blackjackStart">
                        <i class="fas fa-play"></i> Start Game
                    </button>
                    
                    <div id="blackjackPlayingArea" style="display: none;">
                        <div class="hand">
                            <h3 class="hand-title"><i class="fas fa-crown"></i> Dealer's Hand</h3>
                            <div class="blackjack-cards" id="dealerHand"></div>
                            <div class="hand-value">Value: <span id="dealerValue">?</span></div>
                        </div>
                        
                        <div class="hand">
                            <h3 class="hand-title"><i class="fas fa-user"></i> Your Hand</h3>
                            <div class="blackjack-cards" id="playerHand"></div>
                            <div class="hand-value">Value: <span id="playerValue">0</span></div>
                        </div>
                        
                        <div class="blackjack-actions" id="blackjackActions">
                            <button class="btn btn-success" onclick="blackjackHit()">
                                <i class="fas fa-plus"></i> Hit
                            </button>
                            <button class="btn btn-danger" onclick="blackjackStand()">
                                <i class="fas fa-hand-paper"></i> Stand
                            </button>
                            <button class="btn btn-gold" onclick="blackjackDouble()">
                                <i class="fas fa-times"></i> Double
                            </button>
                            <button class="btn btn-info" onclick="blackjackSplit()" id="splitBtn" style="display: none;">
                                <i class="fas fa-cut"></i> Split
                            </button>
                            <button class="btn btn-warning" onclick="blackjackInsurance()" id="insuranceBtn" style="display: none;">
                                <i class="fas fa-shield-alt"></i> Insurance
                            </button>
                        </div>
                    </div>
                    
                    <div id="blackjackResult" class="game-result"></div>
                </div>
                
                <div class="history-log" id="blackjackHistory"></div>
            </div>
        </div>

        <!-- Coinflip Tab -->
        <div class="game-tab" id="coinflip-tab">
            <h2 class="game-title"><i class="fas fa-coins"></i> Coinflip (House Edge: 10%)</h2>
            <p class="game-description">50/50 chance, but the house takes a cut. Win rate: 45%. Try your luck with double or nothing streaks for bigger rewards!</p>
            
            <div class="game-content">
                <div class="input-group">
                    <label><i class="fas fa-coins"></i> Bet Amount:</label>
                    <input type="number" id="coinflipBet" placeholder="Enter bet" min="1" value="10">
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBetAmount('coinflipBet', 10)">$10</button>
                        <button class="bet-btn" onclick="setBetAmount('coinflipBet', 100)">$100</button>
                        <button class="bet-btn" onclick="setBetAmount('coinflipBet', 1000)">$1K</button>
                        <button class="bet-btn" onclick="setBetAmount('coinflipBet', 10000)">$10K</button>
                    </div>
                </div>
                <div class="input-group">
                    <label><i class="fas fa-dice"></i> Choose Side:</label>
                    <select id="coinflipChoice">
                        <option value="heads">üîµ Heads (1.9x)</option>
                        <option value="tails">üî¥ Tails (1.9x)</option>
                    </select>
                </div>
                
                <div class="bet-controls">
                    <button class="btn" onclick="flipCoin()" id="coinflipBtn">
                        <i class="fas fa-random"></i> Flip Coin
                    </button>
                    <button class="btn btn-gold" onclick="startStreak()" id="streakBtn">
                        <i class="fas fa-bolt"></i> Start Streak (3x)
                    </button>
                </div>
                
                <div class="coinflip-container">
                    <div class="coin" id="coin">
                        <div class="coin-heads">H</div>
                        <div class="coin-tails">T</div>
                    </div>
                </div>
                
                <div class="bet-controls">
                    <button class="btn btn-success" onclick="doubleOrNothing()" id="doubleBtn" style="display: none;">
                        <i class="fas fa-angle-double-up"></i> Double or Nothing
                    </button>
                    <button class="btn btn-danger" onclick="cashoutStreak()" id="cashoutStreakBtn" style="display: none;">
                        <i class="fas fa-hand-holding-usd"></i> Cash Out
                    </button>
                </div>
                
                <div id="coinflipResult" class="game-result"></div>
                
                <div class="history-log" id="coinflipHistory"></div>
            </div>
        </div>

        <!-- Slots Tab -->
        <div class="game-tab" id="slots-tab">
            <h2 class="game-title"><i class="fas fa-slot-machine"></i> Slots (House Edge: 20%)</h2>
            <p class="game-description">Spin for jackpots, but the odds are heavily against you! Special bonus rounds and progressive jackpots can make you rich instantly!</p>
            
            <div class="game-content">
                <div class="input-group">
                    <label><i class="fas fa-coins"></i> Bet Amount:</label>
                    <input type="number" id="slotsBet" placeholder="Enter bet" min="1" value="10">
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBetAmount('slotsBet', 10)">$10</button>
                        <button class="bet-btn" onclick="setBetAmount('slotsBet', 100)">$100</button>
                        <button class="bet-btn" onclick="setBetAmount('slotsBet', 1000)">$1K</button>
                        <button class="bet-btn" onclick="setBetAmount('slotsBet', 10000)">$10K</button>
                    </div>
                </div>
                
                <div class="jackpot-info">
                    <span><i class="fas fa-trophy"></i> Jackpot: $<span id="jackpotAmount">10000</span></span>
                    <span>Next Bonus: <span id="bonusSpins">5</span> spins</span>
                </div>
                <div class="jackpot-meter">
                    <div class="jackpot-fill" id="jackpotFill" style="width: 0%"></div>
                    <div class="jackpot-value" id="jackpotValue">0%</div>
                </div>
                
                <button class="btn" onclick="spinSlots()" id="slotsBtn">
                    <i class="fas fa-redo"></i> Spin Slots
                </button>
                <div class="slots-container">
                    <div class="slot" id="slot1">üçí</div>
                    <div class="slot" id="slot2">üçã</div>
                    <div class="slot" id="slot3">üçä</div>
                </div>
                
                <div class="slots-paytable">
                    <h3 class="paytable-title"><i class="fas fa-list-ol"></i> Paytable</h3>
                    <div class="paytable-grid">
                        <div class="paytable-item">
                            <div class="paytable-symbol">üíéüíéüíé</div>
                            <div class="paytable-multiplier">50x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</div>
                            <div class="paytable-multiplier">25x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">üîîüîîüîî</div>
                            <div class="paytable-multiplier">15x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">üçÄüçÄüçÄ</div>
                            <div class="paytable-multiplier">10x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£</div>
                            <div class="paytable-multiplier">5x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">üçíüçíüçí</div>
                            <div class="paytable-multiplier">3x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">üçãüçãüçã</div>
                            <div class="paytable-multiplier">2x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">üçäüçäüçä</div>
                            <div class="paytable-multiplier">2x</div>
                        </div>
                        <div class="paytable-item">
                            <div class="paytable-symbol">Any 2</div>
                            <div class="paytable-multiplier">1.5x</div>
                        </div>
                    </div>
                </div>
                
                <div id="slotsResult" class="game-result"></div>
                
                <div class="history-log" id="slotsHistory"></div>
            </div>
        </div>

        <!-- Mines Tab -->
        <div class="game-tab" id="mines-tab">
            <h2 class="game-title"><i class="fas fa-bomb"></i> Mines (House Edge: 25%)</h2>
            <p class="game-description">Find gems while avoiding bombs. Cash out before you explode! Higher mine counts = bigger risks but better rewards. Unlock special power-ups as you play!</p>
            
            <div class="game-content">
                <div class="input-group">
                    <label><i class="fas fa-coins"></i> Bet Amount:</label>
                    <input type="number" id="minesBet" placeholder="Enter bet" min="1" value="10">
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBetAmount('minesBet', 10)">$10</button>
                        <button class="bet-btn" onclick="setBetAmount('minesBet', 100)">$100</button>
                        <button class="bet-btn" onclick="setBetAmount('minesBet', 1000)">$1K</button>
                        <button class="bet-btn" onclick="setBetAmount('minesBet', 10000)">$10K</button>
                    </div>
                </div>
                
                <div class="mines-controls" id="minesDifficulty">
                    <div class="mine-option selected" data-mines="3" onclick="selectMineOption(this, 3)">
                        <i class="fas fa-gem"></i> 3 Mines (3x)
                    </div>
                    <div class="mine-option" data-mines="5" onclick="selectMineOption(this, 5)">
                        <i class="fas fa-gem"></i> 5 Mines (5x)
                    </div>
                    <div class="mine-option" data-mines="7" onclick="selectMineOption(this, 7)">
                        <i class="fas fa-gem"></i> 7 Mines (8x)
                    </div>
                    <div class="mine-option" data-mines="10" onclick="selectMineOption(this, 10)">
                        <i class="fas fa-gem"></i> 10 Mines (12x)
                    </div>
                </div>
                
                <div class="mines-stats">
                    <div class="mines-stat">
                        <i class="fas fa-chart-line"></i> Win Rate: <span id="minesWinRate">0%</span>
                    </div>
                    <div class="mines-stat">
                        <i class="fas fa-coins"></i> Profit: <span id="minesProfit">$0</span>
                    </div>
                    <div class="mines-stat">
                        <i class="fas fa-bomb"></i> Mines Hit: <span id="minesHit">0</span>
                    </div>
                </div>
                
                <button class="btn" onclick="startMines()" id="minesStart">
                    <i class="fas fa-play"></i> Start Game
                </button>
                <button class="btn btn-gold" onclick="cashoutMines()" id="minesCashout" style="display:none;">
                    <i class="fas fa-hand-holding-usd"></i> Cash Out
                </button>
                <button class="btn btn-info" onclick="usePowerup('reveal')" id="revealPowerup" style="display:none;">
                    <i class="fas fa-eye"></i> Reveal (1)
                </button>
                <button class="btn btn-success" onclick="usePowerup('shield')" id="shieldPowerup" style="display:none;">
                    <i class="fas fa-shield-alt"></i> Shield (1)
                </button>
                
                <div id="minesResult" class="game-result"></div>
                <div class="mines-grid" id="minesGrid"></div>
                
                <div class="history-log" id="minesHistory"></div>
            </div>
        </div>

        <!-- Crash Tab -->
        <div class="game-tab" id="crash-tab">
            <h2 class="game-title"><i class="fas fa-rocket"></i> Crash (House Edge: 30%)</h2>
            <p class="game-description">Watch the multiplier grow and cash out before it crashes! Early crashes are common. Use auto-cashout to maximize your winnings!</p>
            
            <div class="game-content">
                <div class="input-group">
                    <label><i class="fas fa-coins"></i> Bet Amount:</label>
                    <input type="number" id="crashBet" placeholder="Enter bet" min="1" value="10">
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBetAmount('crashBet', 10)">$10</button>
                        <button class="bet-btn" onclick="setBetAmount('crashBet', 100)">$100</button>
                        <button class="bet-btn" onclick="setBetAmount('crashBet', 1000)">$1K</button>
                        <button class="bet-btn" onclick="setBetAmount('crashBet', 10000)">$10K</button>
                    </div>
                </div>
                
                <div class="crash-auto">
                    <div class="auto-settings">
                        <div class="auto-setting">
                            <label for="autoCashout"><i class="fas fa-robot"></i> Auto Cashout</label>
                            <input type="number" id="autoCashout" placeholder="Multiplier" min="1.1" step="0.1" value="2.0">
                        </div>
                        <div class="auto-setting">
                            <label for="autoBetAmount"><i class="fas fa-coins"></i> Auto Bet Amount</label>
                            <input type="number" id="autoBetAmount" placeholder="Amount" min="1" value="10">
                        </div>
                        <div class="auto-setting">
                            <label for="autoBetCount"><i class="fas fa-redo"></i> Auto Bet Count</label>
                            <input type="number" id="autoBetCount" placeholder="Count" min="1" value="10">
                        </div>
                    </div>
                    <div class="bet-controls">
                        <button class="btn" onclick="startCrash()" id="crashStart">
                            <i class="fas fa-play"></i> Start Crash
                        </button>
                        <button class="btn btn-gold" onclick="cashoutCrash()" id="crashCashout" style="display:none;">
                            <i class="fas fa-hand-holding-usd"></i> Cash Out
                        </button>
                        <button class="btn btn-info" onclick="startAutoCrash()" id="autoCrashBtn">
                            <i class="fas fa-robot"></i> Auto Bet
                        </button>
                    </div>
                </div>
                
                <div class="crash-game">
                    <div class="crash-multiplier" id="crashMultiplier">1.00x</div>
                    <div class="crash-history" id="crashHistory"></div>
                </div>
                
                <div id="crashResult" class="game-result"></div>
            </div>
        </div>

        <!-- Bonus Tab -->
        <div class="game-tab" id="bonus-tab">
            <h2 class="game-title"><i class="fas fa-gift"></i> Bonus Games</h2>
            <p class="game-description">Special bonus games that unlock as you play! Spin the wheel for a chance to win big prizes, or collect daily rewards!</p>
            
            <div class="game-content">
                <div class="bonus-wheel">
                    <div class="wheel-pointer"></div>
                    <div class="wheel-spin" id="wheelSpin"></div>
                    <div class="wheel-prizes" id="wheelPrizes"></div>
                    <div class="wheel-center" id="spinWheelBtn" onclick="spinWheel()">
                        SPIN
                    </div>
                </div>
                
                <div class="bet-controls">
                    <button class="btn btn-gold" onclick="spinWheel()" id="wheelSpinBtn">
                        <i class="fas fa-redo"></i> Spin Wheel (1 free spin)
                    </button>
                    <div class="countdown" id="nextFreeSpin">
                        Next free spin: 24h
                    </div>
                </div>
                
                <div id="wheelResult" class="game-result"></div>
                
                <div class="history-log" id="wheelHistory"></div>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div class="game-tab" id="achievements-tab">
            <h2 class="game-title"><i class="fas fa-trophy"></i> Achievements & Rewards</h2>
            <p class="game-description">Complete challenges to earn bonus money and unlock special rewards! Some achievements unlock new games and features!</p>
            
            <div class="game-content">
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- Achievements will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        let gameData = {
            balance: 1000,
            totalWagered: 0,
            totalWon: 0,
            gamesPlayed: 0,
            achievements: {},
            stats: {
                blackjack: { wins: 0, losses: 0, pushes: 0, profit: 0, streak: 0, maxStreak: 0 },
                coinflip: { wins: 0, losses: 0, profit: 0, streak: 0, maxStreak: 0 },
                slots: { wins: 0, losses: 0, profit: 0, jackpots: 0, spins: 0 },
                mines: { wins: 0, losses: 0, profit: 0, minesHit: 0, highestCashout: 0 },
                crash: { wins: 0, losses: 0, profit: 0, highestMultiplier: 0 }
            },
            gameStates: {
                begCooldown: 0,
                begType: '',
                minesActive: false,
                minesBet: 0,
                minesRevealed: 0,
                minesCount: 3,
                minesGrid: [],
                minesPowerups: { reveal: 0, shield: 0 },
                crashActive: false,
                crashBet: 0,
                crashMultiplier: 1.0,
                crashHistory: [],
                crashAuto: { active: false, cashout: 2.0, amount: 10, count: 10, remaining: 0 },
                blackjackActive: false,
                blackjackBet: 0,
                playerHand: [],
                dealerHand: [],
                gamePhase: 'betting',
                coinFlipping: false,
                coinStreak: { active: false, count: 0, bet: 0, choice: '', multiplier: 3 },
                slotsSpinning: false,
                slotsJackpot: 10000,
                slotsBonusCounter: 0,
                wheelSpinning: false,
                lastFreeSpin: 0,
                wheelPrizes: [
                    { value: 100, color: '#ff5e57', text: '$100' },
                    { value: 200, color: '#ff8906', text: '$200' },
                    { value: 500, color: '#ffd700', text: '$500' },
                    { value: 1000, color: '#2ecc71', text: '$1000' },
                    { value: 2000, color: '#3498db', text: '$2000' },
                    { value: 5000, color: '#9b59b6', text: '$5000' },
                    { value: 'JACKPOT', color: '#e74c3c', text: 'JACKPOT' }
                ]
            },
            gameHistory: {
                beg: [],
                blackjack: [],
                coinflip: [],
                slots: [],
                mines: [],
                crash: [],
                wheel: []
            }
        };

        const achievements = {
            firstBeg: {
                name: "First Steps",
                description: "Beg for money for the first time",
                icon: "üôè",
                reward: 100,
                condition: () => gameData.gameHistory.beg.length > 0,
                progress: () => gameData.gameHistory.beg.length > 0 ? 1 : 0,
                target: 1
            },
            millionaire: {
                name: "Millionaire",
                description: "Reach $1,000,000",
                icon: "üí∞",
                reward: 50000,
                condition: () => gameData.balance >= 1000000,
                progress: () => Math.min(gameData.balance / 1000000, 1),
                target: 1000000
            },
            billionaire: {
                name: "Billionaire", 
                description: "Reach $1,000,000,000",
                icon: "üíé",
                reward: 500000000,
                condition: () => gameData.balance >= 1000000000,
                progress: () => Math.min(gameData.balance / 1000000000, 1),
                target: 1000000000
            },
            trillionaire: {
                name: "TRILLIONAIRE CHAMPION!",
                description: "YOU BEAT THE HOUSE! $1,000,000,000,000",
                icon: "üëë",
                reward: 0,
                condition: () => gameData.balance >= 1000000000000,
                progress: () => Math.min(gameData.balance / 1000000000000, 1),
                target: 1000000000000
            },
            highRoller: {
                name: "High Roller",
                description: "Bet $100,000 in a single game",
                icon: "üé∞",
                reward: 25000,
                condition: () => gameData.totalWagered >= 100000,
                progress: () => Math.min(gameData.totalWagered / 100000, 1),
                target: 100000
            },
            addicted: {
                name: "Gambling Addict",
                description: "Play 100 games",
                icon: "üé≤",
                reward: 10000,
                condition: () => gameData.gamesPlayed >= 100,
                progress: () => Math.min(gameData.gamesPlayed / 100, 1),
                target: 100
            },
            mineExpert: {
                name: "Mine Expert", 
                description: "Successfully cash out from mines 10 times",
                icon: "üí£",
                reward: 5000,
                condition: () => gameData.stats.mines.wins >= 10,
                progress: () => Math.min(gameData.stats.mines.wins / 10, 1),
                target: 10
            },
            crashSurvivor: {
                name: "Crash Survivor",
                description: "Cash out at 10x multiplier or higher",
                icon: "üöÄ", 
                reward: 15000,
                condition: () => gameData.stats.crash.highestMultiplier >= 10,
                progress: () => Math.min(gameData.stats.crash.highestMultiplier / 10, 1),
                target: 10
            },
            luckyStreak: {
                name: "Lucky Streak",
                description: "Win 5 games in a row",
                icon: "üçÄ",
                reward: 7500,
                condition: () => {
                    for (let game in gameData.stats) {
                        if (gameData.stats[game].streak >= 5) return true;
                    }
                    return false;
                },
                progress: () => {
                    let maxStreak = 0;
                    for (let game in gameData.stats) {
                        if (gameData.stats[game].streak > maxStreak) maxStreak = gameData.stats[game].streak;
                    }
                    return Math.min(maxStreak / 5, 1);
                },
                target: 5
            },
            bigWinner: {
                name: "Big Winner",
                description: "Win $500,000 total across all games",
                icon: "üéä",
                reward: 100000,
                condition: () => gameData.totalWon >= 500000,
                progress: () => Math.min(gameData.totalWon / 500000, 1),
                target: 500000
            },
            blackjackMaster: {
                name: "Blackjack Master",
                description: "Win 50 blackjack games",
                icon: "üÉè",
                reward: 20000,
                condition: () => gameData.stats.blackjack.wins >= 50,
                progress: () => Math.min(gameData.stats.blackjack.wins / 50, 1),
                target: 50
            },
            slotKing: {
                name: "Slot King",
                description: "Hit 3 jackpots on slots",
                icon: "üé∞",
                reward: 30000,
                condition: () => gameData.stats.slots.jackpots >= 3,
                progress: () => Math.min(gameData.stats.slots.jackpots / 3, 1),
                target: 3
            },
            powerPlayer: {
                name: "Power Player",
                description: "Unlock all power-ups in Mines",
                icon: "‚ö°",
                reward: 15000,
                condition: () => gameData.gameStates.minesPowerups.reveal > 0 && gameData.gameStates.minesPowerups.shield > 0,
                progress: () => (gameData.gameStates.minesPowerups.reveal > 0 ? 0.5 : 0) + (gameData.gameStates.minesPowerups.shield > 0 ? 0.5 : 0),
                target: 2
            },
            dailyPlayer: {
                name: "Daily Player",
                description: "Collect 7 daily bonuses",
                icon: "üìÖ",
                reward: 5000,
                condition: () => gameData.gameHistory.wheel.filter(e => e.type === 'daily').length >= 7,
                progress: () => Math.min(gameData.gameHistory.wheel.filter(e => e.type === 'daily').length / 7, 1),
                target: 7
            }
        };

        const cardSuits = ['‚ô•', '‚ô¶', '‚ô†', '‚ô£'];
        const cardValues = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];

        const slotSymbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üçâ', '7Ô∏è‚É£', 'üîî', 'üçÄ', '‚≠ê', 'üíé'];
        const slotPayouts = {
            'üíéüíéüíé': 50,
            '‚≠ê‚≠ê‚≠ê': 25,
            'üîîüîîüîî': 15,
            'üçÄüçÄüçÄ': 10,
            '7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£': 5,
            'üçíüçíüçí': 3,
            'üçãüçãüçã': 2,
            'üçäüçäüçä': 2,
            'üçáüçáüçá': 2,
            'üçâüçâüçâ': 2,
            'any2': 1.5
        };

        function initGame() {
            const savedData = localStorage.getItem('casinoEmpireData');
            if (savedData) {
                try {
                    const parsedData = JSON.parse(savedData);
                    gameData = { ...gameData, ...parsedData };
                    
                    if (!gameData.stats) {
                        gameData.stats = {
                            blackjack: { wins: 0, losses: 0, pushes: 0, profit: 0, streak: 0, maxStreak: 0 },
                            coinflip: { wins: 0, losses: 0, profit: 0, streak: 0, maxStreak: 0 },
                            slots: { wins: 0, losses: 0, profit: 0, jackpots: 0, spins: 0 },
                            mines: { wins: 0, losses: 0, profit: 0, minesHit: 0, highestCashout: 0 },
                            crash: { wins: 0, losses: 0, profit: 0, highestMultiplier: 0 }
                        };
                    }
                    
                    if (!gameData.gameStates.wheelPrizes) {
                        gameData.gameStates.wheelPrizes = [
                            { value: 100, color: '#ff5e57', text: '$100' },
                            { value: 200, color: '#ff8906', text: '$200' },
                            { value: 500, color: '#ffd700', text: '$500' },
                            { value: 1000, color: '#2ecc71', text: '$1000' },
                            { value: 2000, color: '#3498db', text: '$2000' },
                            { value: 5000, color: '#9b59b6', text: '$5000' },
                            { value: 'JACKPOT', color: '#e74c3c', text: 'JACKPOT' }
                        ];
                    }
                } catch (e) {
                    console.error("Failed to load saved data:", e);
                }
            }
            
            updateBalance();
            updateStats();
            updateProgress();
            
            if (gameData.gameStates.begCooldown > 0) {
                document.getElementById('begBtn').disabled = true;
                startCooldown();
            }
            
            loadHistory();
            updateCrashHistory();
            renderAchievements();
            checkAchievements();
            initWheel();
            
            checkFreeSpin();
            
            updateJackpotDisplay();
        }

        function saveGameData() {
            localStorage.setItem('casinoEmpireData', JSON.stringify(gameData));
        }

        function resetGame() {
            if (confirm('Are you sure you want to reset ALL progress? This cannot be undone!')) {
                localStorage.removeItem('casinoEmpireData');
                location.reload();
            }
        }

        function showHelp() {
            alert(`CASINO EMPIRE HELP:
            
üí∞ Balance: Your current money
üéØ Progress: How close you are to becoming a trillionaire

GAMES:
üí∏ Beg: Get free money with cooldowns
üÉè Blackjack: Beat the dealer to 21 (15% house edge)
ü™ô Coinflip: 50/50 chance but with 10% house edge
üé∞ Slots: Spin for jackpots (20% house edge)
üíé Mines: Find gems, avoid bombs (25% house edge)
üöÄ Crash: Cash out before it crashes (30% house edge)
üéÅ Bonus: Daily free spins and special rewards

ACHIEVEMENTS:
Complete challenges to earn bonus money and unlock features!

TIP: Higher bets = faster progress, but higher risk!
            `);
        }

        function updateBalance() {
            document.getElementById('balance').textContent = gameData.balance.toLocaleString();
            document.getElementById('totalWagered').textContent = gameData.totalWagered.toLocaleString();
            document.getElementById('totalWon').textContent = gameData.totalWon.toLocaleString();
            document.getElementById('gamesPlayed').textContent = gameData.gamesPlayed.toLocaleString();
        }

        function updateStats() {
            const blackjackTotal = gameData.stats.blackjack.wins + gameData.stats.blackjack.losses + gameData.stats.blackjack.pushes;
            const blackjackWinRate = blackjackTotal > 0 ? Math.round((gameData.stats.blackjack.wins / blackjackTotal) * 100) : 0;
            document.getElementById('blackjackWinRate').textContent = blackjackWinRate + '%';
            document.getElementById('blackjackProfit').textContent = '$' + gameData.stats.blackjack.profit.toLocaleString();
            document.getElementById('blackjackStreak').textContent = gameData.stats.blackjack.streak;
            
            const minesTotal = gameData.stats.mines.wins + gameData.stats.mines.losses;
            const minesWinRate = minesTotal > 0 ? Math.round((gameData.stats.mines.wins / minesTotal) * 100) : 0;
            document.getElementById('minesWinRate').textContent = minesWinRate + '%';
            document.getElementById('minesProfit').textContent = '$' + gameData.stats.mines.profit.toLocaleString();
            document.getElementById('minesHit').textContent = gameData.stats.mines.minesHit;
            
            document.getElementById('jackpotAmount').textContent = gameData.gameStates.slotsJackpot.toLocaleString();
            document.getElementById('bonusSpins').textContent = 5 - (gameData.gameStates.slotsBonusCounter % 5);
        }

        function updateProgress() {
            const target = 1000000000000; 
            const percent = Math.min((gameData.balance / target) * 100, 100);
            
            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('progressPercent').textContent = percent.toFixed(6);
            document.getElementById('progressAmount').textContent = gameData.balance.toLocaleString();
            
            if (gameData.balance >= target && !gameData.achievements.trillionaire) {
                showAchievementPopup(achievements.trillionaire);
                gameData.achievements.trillionaire = true;
                showNotification('üéâ CONGRATULATIONS! YOU BEAT THE CASINO! üéâ', 'success');
                setTimeout(() => {
                    alert('üèÜ GAME COMPLETED! üèÜ\n\nYou have successfully become a TRILLIONAIRE and beaten the casino system!\n\nFinal Balance: $' + gameData.balance.toLocaleString() + '\n\nYou are the ultimate gambling champion!');
                }, 2000);
            }
        }

        function showLoading(show = true) {
            document.getElementById('loadingOverlay').classList.toggle('active', show);
        }

        function validateBet(bet, minBet = 1) {
            if (isNaN(bet) || bet < minBet) {
                showNotification(`Minimum bet is ${minBet}!`, 'error');
                return false;
            }
            
            if (bet > gameData.balance) {
                showNotification('Insufficient balance!', 'error');
                return false;
            }
            
            return true;
        }

        function showResult(elementId, message, isWin = null) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = 'game-result';
            
            if (isWin === true) element.classList.add('win');
            else if (isWin === false) element.classList.add('lose');
            else element.classList.add('neutral');
        }

        function addToHistory(game, message, isWin = null, extraData = {}) {
            const entry = {
                timestamp: new Date().toLocaleString(),
                message: message,
                type: isWin === true ? 'win' : isWin === false ? 'lose' : 'neutral',
                ...extraData
            };
            
            gameData.gameHistory[game].unshift(entry);
            if (gameData.gameHistory[game].length > 20) {
                gameData.gameHistory[game].pop();
            }
            
            updateHistoryDisplay(game);
            gameData.gamesPlayed++;
            
            if (game in gameData.stats) {
                if (isWin === true) {
                    gameData.stats[game].wins++;
                    gameData.stats[game].streak++;
                    if (gameData.stats[game].streak > gameData.stats[game].maxStreak) {
                        gameData.stats[game].maxStreak = gameData.stats[game].streak;
                    }
                } else if (isWin === false) {
                    gameData.stats[game].losses++;
                    gameData.stats[game].streak = 0;
                } else if (game === 'blackjack' && isWin === null) {
                    gameData.stats.blackjack.pushes++;
                    gameData.stats.blackjack.streak = 0;
                }
                
                updateStats();
            }
            
            saveGameData();
        }

        function updateHistoryDisplay(game) {
            const historyElement = document.getElementById(`${game}History`);
            if (!historyElement) return;
            
            historyElement.innerHTML = '';
            
            gameData.gameHistory[game].forEach(entry => {
                const entryElement = document.createElement('div');
                entryElement.className = `history-entry ${entry.type}`;
                entryElement.textContent = entry.message;
                historyElement.appendChild(entryElement);
            });
        }

        function loadHistory() {
            Object.keys(gameData.gameHistory).forEach(game => {
                updateHistoryDisplay(game);
            });
        }

        function setBetAmount(elementId, amount) {
            document.getElementById(elementId).value = amount;
        }

        function startCooldown() {
            const updateCooldown = () => {
                if (gameData.gameStates.begCooldown > 0) {
                    const minutes = Math.floor(gameData.gameStates.begCooldown / 60);
                    const seconds = gameData.gameStates.begCooldown % 60;
                    document.getElementById('begCooldown').textContent = `Cooldown: ${minutes}m ${seconds}s`;
                    gameData.gameStates.begCooldown--;
                    setTimeout(updateCooldown, 1000);
                } else {
                    document.getElementById('begCooldown').textContent = '';
                    document.getElementById('begBtn').disabled = false;
                }
                saveGameData();
            };
            updateCooldown();
        }

function animateButton(button) {
    if (!button) {
        console.error('No button provided to animate');
        return;
    }
    button.classList.add('btn-click');
    setTimeout(() => button.classList.remove('btn-click'), 300);
}

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let icon;
            switch(type) {
                case 'success': icon = 'fas fa-check-circle'; break;
                case 'error': icon = 'fas fa-times-circle'; break;
                case 'warning': icon = 'fas fa-exclamation-triangle'; break;
                default: icon = 'fas fa-info-circle';
            }
            
            notification.innerHTML = `<i class="${icon}"></i> ${message}`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.classList.add('show'), 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 4000);
        }

        function showAchievementPopup(achievement) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achievementIcon').textContent = achievement.icon;
            document.getElementById('achievementTitle').textContent = achievement.name;
            document.getElementById('achievementDesc').textContent = achievement.description;
            document.getElementById('achievementReward').textContent = achievement.reward > 0 ? `+$${achievement.reward.toLocaleString()}` : 'GAME COMPLETE!';
            
            popup.classList.add('show');
            
            setTimeout(() => {
                popup.classList.remove('show');
            }, 4000);
        }

        function checkAchievements() {
            for (let id in achievements) {
                if (!gameData.achievements[id] && achievements[id].condition()) {
                    gameData.achievements[id] = true;
                    if (achievements[id].reward > 0) {
                        gameData.balance += achievements[id].reward;
                        updateBalance();
                        updateProgress();
                    }
                    showAchievementPopup(achievements[id]);
                    renderAchievements();
                    saveGameData();
                }
            }
        }

        function renderAchievements() {
            const container = document.getElementById('achievementsGrid');
            container.innerHTML = '';
            
            for (let id in achievements) {
                const achievement = achievements[id];
                const unlocked = gameData.achievements[id];
                const progress = achievement.progress();
                const percent = Math.round(progress * 100);
                
                const card = document.createElement('div');
                card.className = `achievement-card ${unlocked ? 'unlocked' : ''}`;
                
                card.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-description">${achievement.description}</div>
                    ${!unlocked ? `
                        <div class="achievement-progress">
                            <div class="achievement-progress-fill" style="width: ${percent}%"></div>
                        </div>
                        <div>${percent}% complete</div>
                    ` : ''}
                    <div class="achievement-reward">Reward: ${achievement.reward > 0 ? achievement.reward.toLocaleString() : 'VICTORY!'}</div>
                    ${unlocked ? '<div style="color: var(--success); margin-top: 15px; font-weight: bold;">‚úÖ UNLOCKED</div>' : '<div style="color: var(--warning); margin-top: 15px;">üîí Locked</div>'}
                `;
                
                container.appendChild(card);
            }
        }


     function beg(type) {
    if (gameData.gameStates.begCooldown > 0) return;
    
    const buttonId = `${type}BegBtn`;
    const button = document.getElementById(buttonId);
    
    if (!button) {
        console.error(`Button with ID ${buttonId} not found!`);
        return;
    }
    
    animateButton(button);
    button.style.pointerEvents = 'none';
    showLoading();
    
    setTimeout(() => {
        showLoading(false);
        
        let amount, cooldown;
        switch(type) {
            case 'street':
                amount = Math.floor(Math.random() * 41) + 10; 
                cooldown = 30; 
                break;
            case 'charity':
                amount = Math.floor(Math.random() * 101) + 50; 
                cooldown = 120;
                break;
            case 'rich':
                amount = Math.floor(Math.random() * 401) + 100;
                cooldown = 300;
                break;
            case 'celeb':
                amount = Math.floor(Math.random() * 1501) + 500;
                cooldown = 900; 
                break;
            default:
                amount = Math.floor(Math.random() * 41) + 10;
                cooldown = 30;
        }
        
        gameData.balance += amount;
        updateBalance();
        updateProgress();
        
        let message;
        switch(type) {
            case 'street': message = `üôè You begged on the street and received $${amount}!`; break;
            case 'charity': message = `ü§≤ A charity donated $${amount} to you!`; break;
            case 'rich': message = `üí∞ A rich donor gave you $${amount}!`; break;
            case 'celeb': message = `üåü A celebrity tipped you $${amount}!`; break;
            default: message = `üôè You received $${amount}!`;
        }
        
        showResult('begResult', message, true);
        addToHistory('beg', message, true, { type: type });
        showNotification(`Received $${amount}!`, 'success');
        checkAchievements();
        
        gameData.gameStates.begCooldown = cooldown;
        gameData.gameStates.begType = type;
        startCooldown();
        
        saveGameData();
        
        setTimeout(() => {
            button.style.pointerEvents = 'auto';
        }, 300);
    }, 1000);
}
        function flipCoin() {
            if (gameData.gameStates.coinFlipping) return;
            
            const bet = parseInt(document.getElementById('coinflipBet').value);
            const choice = document.getElementById('coinflipChoice').value;
            
            if (!validateBet(bet)) return;
            
            const button = document.getElementById('coinflipBtn');
            animateButton(button);
            button.disabled = true;
            gameData.gameStates.coinFlipping = true;
            gameData.totalWagered += bet;
            
            const coin = document.getElementById('coin');
            coin.classList.add('flipping');
            
            setTimeout(() => {
                const playerWins = Math.random() < 0.45;
                const result = playerWins ? choice : (choice === 'heads' ? 'tails' : 'heads');
                
                coin.classList.remove('flipping');
                coin.style.transform = `rotateY(${result === 'heads' ? 0 : 180}deg)`;
                
                let message, isWin;
                if (playerWins) {
                    const winnings = Math.floor(bet * 1.9);
                    gameData.balance += winnings;
                    gameData.totalWon += winnings;
                    gameData.stats.coinflip.profit += winnings - bet;
                    message = `üéâ ${result.toUpperCase()}! You won ${winnings}! (1.9x)`;
                    isWin = true;
                    showNotification(`Won ${winnings}!`, 'success');
                } else {
                    gameData.balance -= bet;
                    gameData.stats.coinflip.profit -= bet;
                    message = `üíî ${result.toUpperCase()}! You lost ${bet}!`;
                    isWin = false;
                    showNotification(`Lost ${bet}!`, 'error');
                }
                
                updateBalance();
                updateProgress();
                updateStats();
                showResult('coinflipResult', message, isWin);
                addToHistory('coinflip', message, isWin);
                checkAchievements();
                
                button.disabled = false;
                gameData.gameStates.coinFlipping = false;
                saveGameData();
            }, 4000);
        }

        function startStreak() {
            const bet = parseInt(document.getElementById('coinflipBet').value);
            const choice = document.getElementById('coinflipChoice').value;
            
            if (!validateBet(bet)) return;
            
            gameData.gameStates.coinStreak = {
                active: true,
                count: 0,
                bet: bet,
                choice: choice,
                multiplier: 3
            };
            
            document.getElementById('streakBtn').style.display = 'none';
            document.getElementById('coinflipBtn').style.display = 'none';
            document.getElementById('doubleBtn').style.display = 'inline-block';
            document.getElementById('cashoutStreakBtn').style.display = 'inline-block';
            
            showNotification('Streak started! Win 3 in a row for 3x payout!', 'info');
        }

        function doubleOrNothing() {
            if (!gameData.gameStates.coinStreak.active) return;
            
            const streak = gameData.gameStates.coinStreak;
            const bet = streak.bet * Math.pow(2, streak.count);
            
            if (!validateBet(bet)) {
                cashoutStreak();
                return;
            }
            
            const button = document.getElementById('doubleBtn');
            animateButton(button);
            button.disabled = true;
            gameData.gameStates.coinFlipping = true;
            gameData.totalWagered += bet;
            
            const coin = document.getElementById('coin');
            coin.classList.add('flipping');
            
            setTimeout(() => {
                const winChance = 0.45 - (streak.count * 0.05);
                const playerWins = Math.random() < winChance;
                const result = playerWins ? streak.choice : (streak.choice === 'heads' ? 'tails' : 'heads');
                
                coin.classList.remove('flipping');
                coin.style.transform = `rotateY(${result === 'heads' ? 0 : 180}deg)`;
                
                if (playerWins) {
                    streak.count++;
                    if (streak.count >= 3) {
                        const winnings = Math.floor(streak.bet * streak.multiplier);
                        gameData.balance += winnings;
                        gameData.totalWon += winnings;
                        gameData.stats.coinflip.profit += winnings - streak.bet;
                        
                        const message = `üî• STREAK COMPLETE! You won ${winnings}! (${streak.multiplier}x)`;
                        showResult('coinflipResult', message, true);
                        addToHistory('coinflip', message, true);
                        showNotification(`Streak complete! Won ${winnings}!`, 'success');
                        
                        endStreak();
                    } else {
                        const message = `üéâ ${result.toUpperCase()}! Streak: ${streak.count}/3`;
                        showResult('coinflipResult', message, true);
                        showNotification(`Streak continues! ${streak.count}/3`, 'info');
                    }
                } else {
                    gameData.balance -= bet;
                    gameData.stats.coinflip.profit -= bet;
                    
                    const message = `üíî ${result.toUpperCase()}! Streak ended! Lost ${bet}!`;
                    showResult('coinflipResult', message, false);
                    addToHistory('coinflip', message, false);
                    showNotification(`Streak ended! Lost ${bet}!`, 'error');
                    
                    endStreak();
                }
                
                updateBalance();
                updateProgress();
                updateStats();
                checkAchievements();
                
                button.disabled = false;
                gameData.gameStates.coinFlipping = false;
                saveGameData();
            }, 4000);
        }

        function cashoutStreak() {
            if (!gameData.gameStates.coinStreak.active) return;
            
            const streak = gameData.gameStates.coinStreak;
            const winnings = Math.floor(streak.bet * streak.count);
            
            if (streak.count > 0) {
                gameData.balance += winnings;
                gameData.totalWon += winnings;
                gameData.stats.coinflip.profit += winnings - streak.bet;
                
                const message = `üí∞ Cashed out! You won ${winnings}! (Streak: ${streak.count})`;
                showResult('coinflipResult', message, true);
                addToHistory('coinflip', message, true);
                showNotification(`Cashed out! Won ${winnings}!`, 'success');
            } else {
                showNotification('Streak cashed out with no wins', 'info');
            }
            
            endStreak();
            updateBalance();
            updateProgress();
            updateStats();
            saveGameData();
        }

        function endStreak() {
            gameData.gameStates.coinStreak = { active: false, count: 0, bet: 0, choice: '', multiplier: 3 };
            document.getElementById('streakBtn').style.display = 'inline-block';
            document.getElementById('coinflipBtn').style.display = 'inline-block';
            document.getElementById('doubleBtn').style.display = 'none';
            document.getElementById('cashoutStreakBtn').style.display = 'none';
        }

        function spinSlots() {
            if (gameData.gameStates.slotsSpinning) return;
            
            const bet = parseInt(document.getElementById('slotsBet').value);
            if (!validateBet(bet)) return;
            
            const button = document.getElementById('slotsBtn');
            animateButton(button);
            button.disabled = true;
            gameData.gameStates.slotsSpinning = true;
            gameData.totalWagered += bet;
            gameData.stats.slots.spins++;
            gameData.gameStates.slotsBonusCounter++;
            
            gameData.gameStates.slotsJackpot += Math.floor(bet * 0.05);
            updateJackpotDisplay();
            
            const symbols = slotSymbols;
            const results = [];
            
            const luck = Math.random();
            let forcedResults = null;
            
            if (gameData.gameStates.slotsBonusCounter % 5 === 0) {
                const possibleWins = [
                    ['üíé', 'üíé', 'üíé'], 
                    ['‚≠ê', '‚≠ê', '‚≠ê'], 
                    ['üîî', 'üîî', 'üîî'],
                    ['üçÄ', 'üçÄ', 'üçÄ'], 
                    ['7Ô∏è‚É£', '7Ô∏è‚É£', '7Ô∏è‚É£'] 
                ];
                
                forcedResults = possibleWins[Math.floor(Math.random() * possibleWins.length)];
            } else if (luck < 0.02) { 
                forcedResults = ['üíé', 'üíé', 'üíé'];
            } else if (luck < 0.08) { 
                const symbol = symbols[Math.floor(Math.random() * 6)];
                forcedResults = [symbol, symbol, symbol];
            } else if (luck < 0.20) { 
                const symbol = symbols[Math.floor(Math.random() * symbols.length)];
                forcedResults = [symbol, symbol, symbols[Math.floor(Math.random() * symbols.length)]];
            }
            
            for (let i = 1; i <= 3; i++) {
                const slot = document.getElementById(`slot${i}`);
                slot.classList.add('spinning');
                
                let spins = 0;
                const spinInterval = setInterval(() => {
                    slot.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    spins++;
                    
                    if (spins > 15 + (i * 5)) {
                        clearInterval(spinInterval);
                        
                        const finalSymbol = forcedResults ? forcedResults[i-1] : symbols[Math.floor(Math.random() * symbols.length)];
                        slot.textContent = finalSymbol;
                        slot.classList.remove('spinning');
                        results.push(finalSymbol);
                        
                        if (results.length === 3) {
                            calculateSlotsResult(bet, results);
                            button.disabled = false;
                            gameData.gameStates.slotsSpinning = false;
                        }
                    }
                }, 100);
            }
        }

        function updateJackpotDisplay() {
            document.getElementById('jackpotAmount').textContent = gameData.gameStates.slotsJackpot.toLocaleString();
            const jackpotPercent = Math.min((gameData.gameStates.slotsJackpot - 10000) / 90000 * 100, 100);
            document.getElementById('jackpotFill').style.width = jackpotPercent + '%';
            document.getElementById('jackpotValue').textContent = jackpotPercent.toFixed(1) + '%';
            document.getElementById('bonusSpins').textContent = 5 - (gameData.gameStates.slotsBonusCounter % 5);
        }

        function calculateSlotsResult(bet, results) {
            let multiplier = 0;
            let message;
            
            const resultStr = results.join('');
            if (slotPayouts[resultStr]) {
                multiplier = slotPayouts[resultStr];
            } else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
                multiplier = 1.5;
            }
            
            let isWin;
            if (multiplier > 0) {
                let winnings = Math.floor(bet * multiplier);
                
                if (results[0] === 'üíé' && results[1] === 'üíé' && results[2] === 'üíé') {
                    winnings += gameData.gameStates.slotsJackpot;
                    gameData.gameStates.slotsJackpot = 10000; 
                    gameData.stats.slots.jackpots++;
                    message = `üé∞ JACKPOT!!! You won ${winnings} (${multiplier}x + JACKPOT)`;
                    showNotification('JACKPOT!!!', 'success');
                } else {
                    message = `üé∞ WINNER! You won ${winnings}! (${multiplier}x)`;
                    showNotification(`Slots win! ${winnings}!`, 'success');
                }
                
                gameData.balance += winnings;
                gameData.totalWon += winnings;
                gameData.stats.slots.profit += winnings - bet;
                gameData.stats.slots.wins++;
                isWin = true;
            } else {
                gameData.balance -= bet;
                gameData.stats.slots.profit -= bet;
                gameData.stats.slots.losses++;
                message = `üí∏ No match! You lost ${bet}!`;
                isWin = false;
                showNotification(`Lost ${bet}!`, 'error');
            }
            
            updateBalance();
            updateProgress();
            updateStats();
            updateJackpotDisplay();
            showResult('slotsResult', message, isWin);
            addToHistory('slots', message, isWin);
            checkAchievements();
            saveGameData();
        }

        function startBlackjack() {
            const bet = parseInt(document.getElementById('blackjackBet').value);
            if (!validateBet(bet)) return;
            
            const button = document.getElementById('blackjackStart');
            animateButton(button);
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                gameData.gameStates.blackjackActive = true;
                gameData.gameStates.blackjackBet = bet;
                gameData.gameStates.playerHand = [];
                gameData.gameStates.dealerHand = [];
                gameData.gameStates.gamePhase = 'playerTurn';
                gameData.totalWagered += bet;
                
                gameData.balance -= bet;
                updateBalance();
                
                document.getElementById('blackjackStart').style.display = 'none';
                document.getElementById('blackjackPlayingArea').style.display = 'block';
                
                dealCard('player');
                dealCard('dealer');
                dealCard('player');
                const dealerCard = dealCard('dealer', true); 
                
                const playerValue = calculateHandValue(gameData.gameStates.playerHand);
                if (playerValue === 21) {
                    setTimeout(() => dealerTurn(), 1000);
                }
                
                if (dealerCard.value === 'A') {
                    document.getElementById('insuranceBtn').style.display = 'inline-block';
                }
                
                if (gameData.gameStates.playerHand[0].value === gameData.gameStates.playerHand[1].value) {
                    document.getElementById('splitBtn').style.display = 'inline-block';
                }
                
                saveGameData();
            }, 1000);
        }

        function dealCard(target, hidden = false) {
            let suit = cardSuits[Math.floor(Math.random() * cardSuits.length)];
            let value;
            
            if (target === 'dealer' && Math.random() < 0.15) {
                const goodCards = ['10', 'J', 'Q', 'K', 'A'];
                value = goodCards[Math.floor(Math.random() * goodCards.length)];
            } else if (target === 'player' && Math.random() < 0.10) {
                const currentValue = calculateHandValue(gameData.gameStates.playerHand);
                if (currentValue >= 12) {
                    const badCards = ['8', '9', '10', 'J', 'Q', 'K'];
                    value = badCards[Math.floor(Math.random() * badCards.length)];
                } else {
                    value = cardValues[Math.floor(Math.random() * cardValues.length)];
                }
            } else {
                value = cardValues[Math.floor(Math.random() * cardValues.length)];
            }
            
            const card = { suit, value, hidden };
            gameData.gameStates[`${target}Hand`].push(card);
            renderHand(target);
            
            return card;
        }

        function renderHand(target) {
            const handElement = document.getElementById(`${target}Hand`);
            handElement.innerHTML = '';
            
            gameData.gameStates[`${target}Hand`].forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                
                if (card.hidden && gameData.gameStates.gamePhase === 'playerTurn') {
                    cardElement.textContent = 'üÇ†';
                    cardElement.style.background = 'linear-gradient(45deg, #1a1a2e, #16213e)';
                } else {
                    cardElement.className += ` ${card.suit === '‚ô•' || card.suit === '‚ô¶' ? 'red' : 'black'}`;
                    
                    const valueElement = document.createElement('div');
                    valueElement.className = 'card-value';
                    valueElement.textContent = card.value;
                    cardElement.appendChild(valueElement);
                    
                    const suitElement = document.createElement('div');
                    suitElement.className = 'card-suit';
                    suitElement.textContent = card.suit;
                    cardElement.appendChild(suitElement);
                }
                
                handElement.appendChild(cardElement);
            });
            
            const playerValue = calculateHandValue(gameData.gameStates.playerHand);
            const dealerVisibleValue = target === 'dealer' && gameData.gameStates.gamePhase === 'playerTurn' 
                ? calculateHandValue(gameData.gameStates.dealerHand.filter(c => !c.hidden))
                : calculateHandValue(gameData.gameStates.dealerHand);
            
            document.getElementById('playerValue').textContent = playerValue;
            document.getElementById('dealerValue').textContent = 
                target === 'dealer' && gameData.gameStates.gamePhase === 'playerTurn' ? '?' : dealerVisibleValue;
        }

        function calculateHandValue(hand) {
            let value = 0;
            let aces = 0;
            
            hand.filter(card => !card.hidden).forEach(card => {
                if (card.value === 'A') {
                    value += 11;
                    aces++;
                } else if (['J', 'Q', 'K'].includes(card.value)) {
                    value += 10;
                } else {
                    value += parseInt(card.value);
                }
            });
            
            while (value > 21 && aces > 0) {
                value -= 10;
                aces--;
            }
            
            return value;
        }

        function blackjackHit() {
            if (!gameData.gameStates.blackjackActive || gameData.gameStates.gamePhase !== 'playerTurn') return;
            
            animateButton(document.querySelector('#blackjackActions .btn-success'));
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                dealCard('player');
                
                const playerValue = calculateHandValue(gameData.gameStates.playerHand);
                if (playerValue > 21) {
                    endBlackjack(false, 'Player busts!');
                } else if (playerValue === 21) {
                    dealerTurn();
                }
                
                saveGameData();
            }, 500);
        }

        function blackjackStand() {
            if (!gameData.gameStates.blackjackActive || gameData.gameStates.gamePhase !== 'playerTurn') return;
            
            animateButton(document.querySelector('#blackjackActions .btn-danger'));
            dealerTurn();
        }

        function blackjackDouble() {
            if (!gameData.gameStates.blackjackActive || gameData.gameStates.gamePhase !== 'playerTurn') return;
            
            const additionalBet = gameData.gameStates.blackjackBet;
            if (gameData.balance < additionalBet) {
                showNotification('Insufficient balance to double!', 'error');
                return;
            }
            
            animateButton(document.querySelector('#blackjackActions .btn-gold'));
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                gameData.balance -= additionalBet;
                gameData.gameStates.blackjackBet *= 2;
                gameData.totalWagered += additionalBet;
                updateBalance();
                
                dealCard('player');
                
                const playerValue = calculateHandValue(gameData.gameStates.playerHand);
                if (playerValue > 21) {
                    endBlackjack(false, 'Player busts after double!');
                } else {
                    dealerTurn();
                }
            }, 500);
        }

        function blackjackSplit() {
            const additionalBet = gameData.gameStates.blackjackBet;
            if (gameData.balance < additionalBet) {
                showNotification('Insufficient balance to split!', 'error');
                return;
            }
            
            animateButton(document.getElementById('splitBtn'));
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                gameData.balance -= additionalBet;
                gameData.gameStates.blackjackBet *= 2;
                gameData.totalWagered += additionalBet;
                updateBalance();
                
                document.getElementById('splitBtn').style.display = 'none';
                
                dealCard('player');
                
                saveGameData();
            }, 500);
        }

        function blackjackInsurance() {
            const insuranceBet = Math.floor(gameData.gameStates.blackjackBet / 2);
            if (gameData.balance < insuranceBet) {
                showNotification('Insufficient balance for insurance!', 'error');
                return;
            }
            
            if (confirm(`Buy insurance for $${insuranceBet}? Pays 2:1 if dealer has blackjack.`)) {
                gameData.balance -= insuranceBet;
                gameData.totalWagered += insuranceBet;
                updateBalance();
                
                const dealerValue = calculateHandValue(gameData.gameStates.dealerHand);
                if (dealerValue === 21) {
                    const payout = insuranceBet * 2;
                    gameData.balance += payout;
                    gameData.totalWon += payout;
                    showNotification(`Insurance paid out $${payout}!`, 'success');
                } else {
                    showNotification('Insurance lost', 'info');
                }
                
                document.getElementById('insuranceBtn').style.display = 'none';
                saveGameData();
            }
        }

        function dealerTurn() {
            gameData.gameStates.gamePhase = 'dealerTurn';
            
            gameData.gameStates.dealerHand.forEach(card => card.hidden = false);
            renderHand('dealer');
            
            document.getElementById('insuranceBtn').style.display = 'none';
            document.getElementById('splitBtn').style.display = 'none';
            
            const drawCard = () => {
                const dealerValue = calculateHandValue(gameData.gameStates.dealerHand);
                
                if (dealerValue < 17) {
                    setTimeout(() => {
                        dealCard('dealer');
                        drawCard();
                    }, 1000);
                } else {
                    const playerValue = calculateHandValue(gameData.gameStates.playerHand);
                    
                    if (dealerValue > 21) {
                        endBlackjack(true, 'Dealer busts! You win!');
                    } else if (playerValue > dealerValue) {
                        endBlackjack(true, `You win! ${playerValue} vs ${dealerValue}`);
                    } else if (dealerValue > playerValue) {
                        endBlackjack(false, `Dealer wins! ${dealerValue} vs ${playerValue}`);
                    } else {
                        endBlackjack(null, `Push! Both have ${playerValue}`);
                    }
                }
            };
            
            drawCard();
        }

        function endBlackjack(playerWins, reason) {
            gameData.gameStates.blackjackActive = false;
            gameData.gameStates.gamePhase = 'gameOver';
            
            const bet = gameData.gameStates.blackjackBet;
            let message;
            
            if (playerWins === true) {
                const playerValue = calculateHandValue(gameData.gameStates.playerHand);
                const isBlackjack = playerValue === 21 && gameData.gameStates.playerHand.length === 2;
                const winnings = isBlackjack ? Math.floor(bet * 1.5) : bet;
                
                gameData.balance += winnings + bet;
                gameData.totalWon += winnings;
                gameData.stats.blackjack.profit += winnings;
                message = `üéâ ${reason} Won ${winnings}!`;
                showNotification(`Blackjack! Won ${winnings}!`, 'success');
                addToHistory('blackjack', message, true);
            } else if (playerWins === false) {
                gameData.stats.blackjack.profit -= bet;
                message = `üíî ${reason} Lost ${bet}!`;
                showNotification(`Lost ${bet}!`, 'error');
                addToHistory('blackjack', message, false);
            } else {
                gameData.balance += bet;
                message = `ü§ù ${reason} Bet returned.`;
                showNotification('Push! Bet returned.', 'info');
                addToHistory('blackjack', message, null);
            }
            
            updateBalance();
            updateProgress();
            updateStats();
            showResult('blackjackResult', message, playerWins);
            checkAchievements();
            
            setTimeout(() => {
                document.getElementById('blackjackStart').style.display = 'inline-block';
                document.getElementById('blackjackPlayingArea').style.display = 'none';
                document.getElementById('blackjackResult').textContent = '';
            }, 3000);
            
            saveGameData();
        }

        function selectMineOption(element, mines) {
            document.querySelectorAll('.mine-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            element.classList.add('selected');
            gameData.gameStates.minesCount = mines;
        }

        function startMines() {
            const bet = parseInt(document.getElementById('minesBet').value);
            if (!validateBet(bet)) return;
            
            const button = document.getElementById('minesStart');
            animateButton(button);
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                gameData.gameStates.minesActive = true;
                gameData.gameStates.minesBet = bet;
                gameData.gameStates.minesRevealed = 0;
                gameData.totalWagered += bet;
                gameData.balance -= bet;
                updateBalance();
                
                document.getElementById('minesStart').style.display = 'none';
                document.getElementById('minesCashout').style.display = 'inline-block';
                
                if (gameData.gameStates.minesPowerups.reveal > 0) {
                    document.getElementById('revealPowerup').style.display = 'inline-block';
                    document.getElementById('revealPowerup').innerHTML = `<i class="fas fa-eye"></i> Reveal (${gameData.gameStates.minesPowerups.reveal})`;
                }
                if (gameData.gameStates.minesPowerups.shield > 0) {
                    document.getElementById('shieldPowerup').style.display = 'inline-block';
                    document.getElementById('shieldPowerup').innerHTML = `<i class="fas fa-shield-alt"></i> Shield (${gameData.gameStates.minesPowerups.shield})`;
                }
                
                const grid = document.getElementById('minesGrid');
                grid.innerHTML = '';
                
                const mines = [];
                const totalMines = gameData.gameStates.minesCount;
                
                const extraMines = Math.floor(totalMines * 0.25); 
                const actualMineCount = totalMines + extraMines;
                
                for (let i = 0; i < actualMineCount; i++) {
                    let minePos;
                    do {
                        minePos = Math.floor(Math.random() * 25);
                    } while (mines.includes(minePos));
                    mines.push(minePos);
                }
                
                gameData.gameStates.minesGrid = mines;
                
                for (let i = 0; i < 25; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'mine-cell';
                    cell.dataset.index = i;
                    cell.onclick = () => revealMine(cell, i);
                    grid.appendChild(cell);
                }
                
                saveGameData();
            }, 1000);
        }

        function revealMine(cell, index) {
            if (!gameData.gameStates.minesActive || cell.classList.contains('revealed')) return;
            
            animateButton(cell);
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                if (gameData.gameStates.minesGrid.includes(index)) {
                    cell.classList.add('mine');
                    cell.textContent = 'üí£';
                    gameData.stats.mines.minesHit++;
                    
                    if (gameData.gameStates.minesPowerups.shield > 0) {
                        gameData.gameStates.minesPowerups.shield--;
                        document.getElementById('shieldPowerup').innerHTML = `<i class="fas fa-shield-alt"></i> Shield (${gameData.gameStates.minesPowerups.shield})`;
                        if (gameData.gameStates.minesPowerups.shield === 0) {
                            document.getElementById('shieldPowerup').style.display = 'none';
                        }
                        
                        cell.classList.remove('mine');
                        cell.classList.add('revealed');
                        cell.textContent = 'üíé';
                        gameData.gameStates.minesRevealed++;
                        
                        showNotification('Shield protected you from a mine!', 'success');
                        return;
                    }
                    
                    gameData.gameStates.minesActive = false;
                    document.getElementById('minesCashout').style.display = 'none';
                    document.getElementById('revealPowerup').style.display = 'none';
                    document.getElementById('shieldPowerup').style.display = 'none';
                    
                    document.querySelectorAll('.mine-cell').forEach((mineCell, idx) => {
                        if (gameData.gameStates.minesGrid.includes(idx)) {
                            mineCell.classList.add('mine');
                            mineCell.textContent = 'üí£';
                        }
                    });
                    
                    const message = `üí£ BOOM! You hit a mine! Lost ${gameData.gameStates.minesBet}!`;
                    showResult('minesResult', message, false);
                    addToHistory('mines', message, false);
                    showNotification(`Mine explosion! Lost ${gameData.gameStates.minesBet}!`, 'error');
                    checkAchievements();
                } else {
                    cell.classList.add('revealed');
                    cell.textContent = 'üíé';
                    gameData.gameStates.minesRevealed++;
                    
                    const safeSpots = 25 - gameData.gameStates.minesGrid.length;
                    const multiplier = 1 + (gameData.gameStates.minesRevealed / safeSpots) * (gameData.gameStates.minesCount / 3);
                    showResult('minesResult', `üíé Safe! Current multiplier: ${multiplier.toFixed(2)}x`);
                }
                
                updateStats();
                saveGameData();
            }, 500);
        }

        function cashoutMines() {
            if (!gameData.gameStates.minesActive) return;
            
            animateButton(document.getElementById('minesCashout'));
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                const safeSpots = 25 - gameData.gameStates.minesGrid.length;
                const multiplier = 1 + (gameData.gameStates.minesRevealed / safeSpots) * (gameData.gameStates.minesCount / 3);
                const winnings = Math.floor(gameData.gameStates.minesBet * multiplier);
                
                gameData.balance += winnings;
                gameData.totalWon += winnings;
                gameData.stats.mines.profit += winnings - gameData.gameStates.minesBet;
                if (winnings > gameData.stats.mines.highestCashout) {
                    gameData.stats.mines.highestCashout = winnings;
                }
                updateBalance();
                updateProgress();
                updateStats();
                
                gameData.gameStates.minesActive = false;
                document.getElementById('minesStart').style.display = 'inline-block';
                document.getElementById('minesCashout').style.display = 'none';
                document.getElementById('revealPowerup').style.display = 'none';
                document.getElementById('shieldPowerup').style.display = 'none';
                
                const message = `üí∞ Cashed out! You won ${winnings}! (${multiplier.toFixed(2)}x)`;
                showResult('minesResult', message, true);
                addToHistory('mines', message, true);
                showNotification(`Mines cashout! Won ${winnings}!`, 'success');
                checkAchievements();
                saveGameData();
            }, 1000);
        }

        function usePowerup(type) {
            if (!gameData.gameStates.minesActive) return;
            
            if (gameData.gameStates.minesPowerups[type] <= 0) return;
            
            if (type === 'reveal') {
                const safeCells = [];
                document.querySelectorAll('.mine-cell').forEach((cell, index) => {
                    if (!cell.classList.contains('revealed')) {
                        safeCells.push(index);
                    }
                });
                
                if (safeCells.length > 0) {
                    const randomIndex = Math.floor(Math.random() * safeCells.length);
                    const cellIndex = safeCells[randomIndex];
                    const cell = document.querySelector(`.mine-cell[data-index="${cellIndex}"]`);
                    
                    if (!gameData.gameStates.minesGrid.includes(cellIndex)) {
                        revealMine(cell, cellIndex);
                        gameData.gameStates.minesPowerups.reveal--;
                        document.getElementById('revealPowerup').innerHTML = `<i class="fas fa-eye"></i> Reveal (${gameData.gameStates.minesPowerups.reveal})`;
                        
                        if (gameData.gameStates.minesPowerups.reveal === 0) {
                            document.getElementById('revealPowerup').style.display = 'none';
                        }
                        
                        showNotification('Revealed a safe cell!', 'info');
                    }
                }
            }
            
            saveGameData();
        }

        function startCrash() {
            if (gameData.gameStates.crashActive) return;
            
            const bet = parseInt(document.getElementById('crashBet').value);
            if (!validateBet(bet)) return;
            
            const button = document.getElementById('crashStart');
            animateButton(button);
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                gameData.gameStates.crashActive = true;
                gameData.gameStates.crashBet = bet;
                gameData.gameStates.crashMultiplier = 1.0;
                gameData.totalWagered += bet;
                gameData.balance -= bet;
                updateBalance();
                
                document.getElementById('crashStart').style.display = 'none';
                document.getElementById('crashCashout').style.display = 'inline-block';
                
                let crashPoint;
                const rand = Math.random();
                
                if (rand < 0.50) { 
                    crashPoint = 1.01 + Math.random() * 0.5; 
                } else if (rand < 0.80) { 
                    crashPoint = 1.5 + Math.random() * 1.5; 
                } else if (rand < 0.95) { 
                    crashPoint = 3 + Math.random() * 7; 
                } else { 
                    crashPoint = 10 + Math.random() * 90; 
                }
                
                let startTime = Date.now();
                const duration = Math.min(crashPoint * 1000, 20000);
                
                const updateCrash = () => {
                    if (!gameData.gameStates.crashActive) return;
                    
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(1, elapsed / duration);
                    
                    gameData.gameStates.crashMultiplier = 1 + (progress * (crashPoint - 1));
                    
                    document.getElementById('crashMultiplier').textContent = gameData.gameStates.crashMultiplier.toFixed(2) + 'x';
                    
                    if (gameData.gameStates.crashAuto.active && 
                        gameData.gameStates.crashMultiplier >= gameData.gameStates.crashAuto.cashout) {
                        cashoutCrash();
                        return;
                    }
                    
                    if (gameData.gameStates.crashMultiplier >= crashPoint) {
                        gameData.gameStates.crashActive = false;
                        document.getElementById('crashStart').style.display = 'inline-block';
                        document.getElementById('crashCashout').style.display = 'none';
                        
                        gameData.gameStates.crashHistory.unshift({
                            multiplier: gameData.gameStates.crashMultiplier,
                            crashed: true
                        });
                        if (gameData.gameStates.crashHistory.length > 15) {
                            gameData.gameStates.crashHistory.pop();
                        }
                        updateCrashHistory();
                        
                        const message = `üöÄüí• CRASHED at ${gameData.gameStates.crashMultiplier.toFixed(2)}x! Lost ${bet}!`;
                        showResult('crashResult', message, false);
                        addToHistory('crash', message, false);
                        showNotification(`Crash! Lost ${bet}!`, 'error');
                        checkAchievements();
                    } else {
                        requestAnimationFrame(updateCrash);
                    }
                };
                
                updateCrash();
                saveGameData();
            }, 1000);
        }

        function cashoutCrash() {
            if (!gameData.gameStates.crashActive) return;
            
            animateButton(document.getElementById('crashCashout'));
            showLoading();
            
            setTimeout(() => {
                showLoading(false);
                
                const winnings = Math.floor(gameData.gameStates.crashBet * gameData.gameStates.crashMultiplier);
                gameData.balance += winnings;
                gameData.totalWon += winnings;
                gameData.stats.crash.profit += winnings - gameData.gameStates.crashBet;
                if (gameData.gameStates.crashMultiplier > gameData.stats.crash.highestMultiplier) {
                    gameData.stats.crash.highestMultiplier = gameData.gameStates.crashMultiplier;
                }
                updateBalance();
                updateProgress();
                updateStats();
                
                gameData.gameStates.crashActive = false;
                document.getElementById('crashStart').style.display = 'inline-block';
                document.getElementById('crashCashout').style.display = 'none';
                
                gameData.gameStates.crashHistory.unshift({
                    multiplier: gameData.gameStates.crashMultiplier,
                    crashed: false
                });
                if (gameData.gameStates.crashHistory.length > 15) {
                    gameData.gameStates.crashHistory.pop();
                }
                updateCrashHistory();
                
                const message = `üöÄüí∞ Cashed out at ${gameData.gameStates.crashMultiplier.toFixed(2)}x! Won ${winnings}!`;
                showResult('crashResult', message, true);
                addToHistory('crash', message, true);
                showNotification(`Crash cashout! Won ${winnings}!`, 'success');
                checkAchievements();
                
                if (gameData.gameStates.crashAuto.active) {
                    gameData.gameStates.crashAuto.remaining--;
                    if (gameData.gameStates.crashAuto.remaining > 0) {
                        setTimeout(() => {
                            document.getElementById('crashBet').value = gameData.gameStates.crashAuto.amount;
                            startCrash();
                        }, 2000);
                    } else {
                        gameData.gameStates.crashAuto.active = false;
                        showNotification('Auto-betting completed!', 'info');
                    }
                }
                
                saveGameData();
            }, 1000);
        }

        function startAutoCrash() {
            const cashout = parseFloat(document.getElementById('autoCashout').value);
            const amount = parseInt(document.getElementById('autoBetAmount').value);
            const count = parseInt(document.getElementById('autoBetCount').value);
            
            if (isNaN(cashout) || cashout < 1.1) {
                showNotification('Auto-cashout must be at least 1.1x', 'error');
                return;
            }
            
            if (!validateBet(amount)) return;
            
            if (isNaN(count) || count < 1) {
                showNotification('Auto-bet count must be at least 1', 'error');
                return;
            }
            
            gameData.gameStates.crashAuto = {
                active: true,
                cashout: cashout,
                amount: amount,
                count: count,
                remaining: count
            };
            
            showNotification(`Auto-betting started: ${count} bets of $${amount} with cashout at ${cashout}x`, 'info');
            
            document.getElementById('crashBet').value = amount;
            startCrash();
        }

        function updateCrashHistory() {
            const historyElement = document.getElementById('crashHistory');
            if (!historyElement) return;
            
            historyElement.innerHTML = '';
            
            gameData.gameStates.crashHistory.slice(0, 12).forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = `crash-history-item ${item.crashed ? 'crash' : 'cashout'}`;
                itemElement.textContent = `${item.multiplier.toFixed(2)}x`;
                historyElement.appendChild(itemElement);
            });
        }

        function initWheel() {
            const wheelPrizes = document.getElementById('wheelPrizes');
            wheelPrizes.innerHTML = '';
            
            const prizeCount = gameData.gameStates.wheelPrizes.length;
            const angle = 360 / prizeCount;
            
            gameData.gameStates.wheelPrizes.forEach((prize, index) => {
                const prizeElement = document.createElement('div');
                prizeElement.className = 'wheel-prize';
                prizeElement.textContent = prize.text;
                prizeElement.style.transform = `rotate(${angle * index}deg)`;
                prizeElement.style.backgroundColor = prize.color;
                wheelPrizes.appendChild(prizeElement);
            });
        }

        function spinWheel() {
            if (gameData.gameStates.wheelSpinning) return;
            
            const now = Date.now();
            const lastSpin = gameData.gameStates.lastFreeSpin;
            const isFreeSpin = now - lastSpin >= 24 * 60 * 60 * 1000; 
            
            if (!isFreeSpin && gameData.balance < 1000) {
                showNotification('You need at least $1000 to spin the wheel!', 'error');
                return;
            }
            
            if (!isFreeSpin) {
                gameData.balance -= 1000;
                updateBalance();
            }
            
            const button = document.getElementById('wheelSpinBtn');
            animateButton(button);
            gameData.gameStates.wheelSpinning = true;
            
            const wheel = document.getElementById('wheelSpin');
            const spinDuration = 5000; 
            const rotations = 5; 
            
            const prizeWeights = [30, 25, 20, 15, 8, 2, 0.1];
            let totalWeight = prizeWeights.reduce((a, b) => a + b, 0);
            let random = Math.random() * totalWeight;
            let selectedIndex = 0;
            
            for (let i = 0; i < prizeWeights.length; i++) {
                if (random < prizeWeights[i]) {
                    selectedIndex = i;
                    break;
                }
                random -= prizeWeights[i];
            }
            
            const angle = 360 / gameData.gameStates.wheelPrizes.length;
            const finalAngle = 360 * rotations + (angle * selectedIndex) + (Math.random() * angle * 0.5);
            
            wheel.style.transform = `rotate(${-finalAngle}deg)`;
            
            setTimeout(() => {
                gameData.gameStates.wheelSpinning = false;
                
                const prize = gameData.gameStates.wheelPrizes[selectedIndex];
                let winnings = 0;
                let message;
                
                if (prize.value === 'JACKPOT') {
                    winnings = gameData.gameStates.slotsJackpot;
                    gameData.gameStates.slotsJackpot = 10000;
                    message = `üéâ JACKPOT! You won $${winnings.toLocaleString()}!`;
                    showNotification('WHEEL JACKPOT!!!', 'success');
                } else {
                    winnings = prize.value;
                    message = `üéâ You won $${winnings}!`;
                    showNotification(`Won $${winnings} on the wheel!`, 'success');
                }
                
                gameData.balance += winnings;
                gameData.totalWon += winnings;
                updateBalance();
                updateProgress();
                updateJackpotDisplay();
                
                if (isFreeSpin) {
                    message += ' (Free Spin)';
                    gameData.gameStates.lastFreeSpin = now;
                    updateFreeSpinTimer();
                }
                
                showResult('wheelResult', message, true);
                addToHistory('wheel', message, true, { type: isFreeSpin ? 'daily' : 'spin' });
                checkAchievements();
                saveGameData();
            }, spinDuration);
        }

        function checkFreeSpin() {
            const now = Date.now();
            const lastSpin = gameData.gameStates.lastFreeSpin;
            
            if (now - lastSpin >= 24 * 60 * 60 * 1000) {
                document.getElementById('wheelSpinBtn').innerHTML = '<i class="fas fa-gift"></i> FREE Spin Available!';
                document.getElementById('nextFreeSpin').style.display = 'none';
            } else {
                updateFreeSpinTimer();
            }
        }

        function updateFreeSpinTimer() {
            const now = Date.now();
            const lastSpin = gameData.gameStates.lastFreeSpin;
            const nextSpin = lastSpin + 24 * 60 * 60 * 1000;
            const remaining = nextSpin - now;
            
            if (remaining <= 0) {
                document.getElementById('wheelSpinBtn').innerHTML = '<i class="fas fa-gift"></i> FREE Spin Available!';
                document.getElementById('nextFreeSpin').style.display = 'none';
                return;
            }
            
            const hours = Math.floor(remaining / (60 * 60 * 1000));
            const minutes = Math.floor((remaining % (60 * 60 * 1000)) / (60 * 1000));
            
            document.getElementById('wheelSpinBtn').innerHTML = '<i class="fas fa-gift"></i> Spin Wheel ($1000)';
            document.getElementById('nextFreeSpin').textContent = `Next free spin: ${hours}h ${minutes}m`;
            document.getElementById('nextFreeSpin').style.display = 'block';
            
            setTimeout(updateFreeSpinTimer, 60000);
        }

        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.game-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                document.querySelectorAll('.tab-btn').forEach(tabBtn => {
                    tabBtn.classList.remove('active');
                });
                
                const tabId = `${btn.dataset.tab}-tab`;
                document.getElementById(tabId).classList.add('active');
                btn.classList.add('active');
                
                if (tabId === 'bonus-tab') {
                    checkFreeSpin();
                }
            });
        });

        window.addEventListener('load', initGame);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
            }
        });

        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('change', function() {
                if (this.value < 1) {
                    this.value = 1;
                }
            });
        });
    </script>
</body>
</html>
